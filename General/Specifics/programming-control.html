<!doctype html>
<html lang="fr">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MCU - Programmation & contrôle</title>
    <link rel="stylesheet" href="../../style.css" />
    <link rel="stylesheet" href="spec.css" />
</head>

<body>
    <nav>
        <a href="../../index.html">Start</a> |
        <a href="../../Main/main.html">Main</a> |
        <a href="../general.html" class="active-link">General info</a>
    </nav>

    <div class="container">
        <header class="hero">
            <h1>Programmation & contrôle</h1>
            <p>
                Programmer un MCU, c’est construire un comportement de contrôle: configurer des périphériques,
                gérer le timing et rendre la logique fiable. L’objectif n’est pas seulement que ça marche, mais que ça
                marche
                <strong>toujours</strong> et de manière <strong>prévisible</strong>.
            </p>
        </header>

        <div class="page">
            <main class="article">
                <section id="loop" class="section">
                    <h2>Boucle principale</h2>
                    <p>
                        Le modèle le plus simple est une boucle infinie: lire les entrées, mettre à jour l’état,
                        produire les sorties.
                        C’est facile à comprendre et très stable si le programme reste léger.
                    </p>
                    <div class="callout">
                        <strong>Bon réflexe:</strong> découper en étapes claires (acquisition → traitement → action).
                    </div>
                </section>

                <section id="irq" class="section">
                    <h2>Interruptions et timers</h2>
                    <p>
                        Les interruptions servent à réagir vite: un timer déclenche toutes les 10 ms, un octet arrive en
                        UART,
                        un bouton change d’état. Une interruption interrompt temporairement la boucle principale pour
                        exécuter
                        une routine courte, puis le programme reprend.
                    </p>
                    <p>
                        La règle d’or: dans une routine d’interruption, on fait court. On capture l’événement et on
                        laisse le traitement
                        principal gérer le reste (par exemple via un flag ou un buffer).
                    </p>
                </section>

                <section id="regs" class="section">
                    <h2>Configurer le matériel (registres)</h2>
                    <p>
                        Beaucoup de périphériques MCU se contrôlent via des <strong>registres</strong> (memory-mapped
                        I/O).
                        Configurer un PWM, un ADC ou un port série revient souvent à écrire des valeurs dans ces
                        registres:
                        mode, fréquence, prescaler, interruptions, etc.
                    </p>
                    <p>
                        Une fois configurés, certains périphériques peuvent travailler “sans le CPU” (ex: timer qui
                        tourne,
                        PWM stable, réception série avec buffer). Ça rend le système plus précis et plus économe.
                    </p>
                </section>

                <section id="example" class="section">
                    <h2>Mini-exemple (idée générale)</h2>
                    <p>
                        Lire un capteur à intervalle fixe et ajuster une sortie. Un timer garantit la régularité,
                        le CPU applique une logique simple.
                    </p>
                    <div class="code">
                        toutes les 10 ms (timer):<br />
                        mesure = lire capteur<br />
                        commande = calcul(mesure)<br />
                        appliquer commande (PWM / GPIO)
                    </div>
                </section>

                <div class="footer-links">
                    <a class="btn" href="pros-cons.html">← Retour: Avantages & limites</a>
                    <a class="btn" href="use-cases.html">Suivant: Cas d’utilisation →</a>
                </div>
            </main>

        </div>
    </div>
</body>

</html>